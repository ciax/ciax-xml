<?xml version="1.0" encoding="iso-8859-1"?>
<ddb xsi:schemaLocation="http://ciax.sum.naoj.org/ciax-xml/schema/ddb.xsd" xmlns="http://ciax.sum.naoj.org/ciax-xml/ddb" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
  <device id="ixe" label="Phytron IXEa-A" reference="http://ciax.sum.naoj.org/man/phytron/phytron-ixe.pdf" wait="0.2">
    <serial databit="8" flowctl="NONE" parity="NONE" speed="9600" stopbit="1" />
    <cmdselect>
      <command id="getstat" label="Get status" response="getstat" type="stat">
        <data>ST</data>
      </command>
      <command id="initrot" label="Parameter set for rotation" response="default" type="config">
        <data>1P01S0 2P01S0 3P01S0 4P01S0 5P01S0 6P01S0</data>
      </command>
      <command id="initunit" label="Parameter unit set to pulse step" response="default" type="config">
        <data>1P02S1 2P02S1 3P02S1 4P02S1 5P02S1 6P02S1</data>
      </command>
      <command id="initfactor" label="Parameter unit factor set to 1" response="default" type="config">
        <data>1P03S1 2P03S1 3P03S1 4P03S1 5P03S1 6P03S1</data>
      </command>
      <command id="chkems" label="Check Emstop [1-6]" response="chkems" type="stat">
        <parameters label="[1-6]">
          <par>
            <range>1:6</range>
          </par>
        </parameters>
        <eval>$1</eval>
        <data>=N</data>
      </command>
      <command id="chkpse" label="Check Power Stage Err [1-6]" response="chkpse" type="stat">
        <parameters label="[1-6]">
          <par>
            <range>1:6</range>
          </par>
        </parameters>
        <eval>$1</eval>
        <data>=E</data>
      </command>
      <command id="chkrun" label="Check Run [1-6]" response="chkrun" type="stat">
        <parameters label="[1-6]">
          <par>
            <range>1:6</range>
          </par>
        </parameters>
        <eval>$1</eval>
        <data>=H</data>
      </command>
      <command id="getp" label="Get pulse [1-6]" response="getp" type="stat">
        <parameters label="[1-6]">
          <par>
            <range>1:6</range>
          </par>
        </parameters>
        <eval>$1</eval>
        <data>P21R</data>
      </command>
      <command id="setp" label="Set pulse [1-6] [0-192000]" response="default" type="config">
        <parameters label="[1-6] [0-192000]">
          <par>
            <range>1:6</range>
          </par>
          <par>
            <range>0:192000</range>
          </par>
        </parameters>
        <eval>$1</eval>
        <data>P21S</data>
        <eval>$2</eval>
      </command>
      <command id="getspd" label="Get speed [1-6]" response="getspd" type="stat">
        <parameters label="[1-6]">
          <par>
            <range>1:6</range>
          </par>
        </parameters>
        <eval>$1</eval>
        <data>P14R</data>
      </command>
      <command id="setspd" label="Set speed [1-6] [1-1000] (/1000 hps)" response="default" type="config">
        <parameters label="[1-6] [1-1000]">
          <par>
            <range>1:6</range>
          </par>
          <par>
            <range>1:1000</range>
          </par>
        </parameters>
        <eval>$1</eval>
        <data>P14S</data>
        <eval>$2</eval>
      </command>
      <command id="getofs" label="Get Offset [1-6]" response="getofs" type="stat">
        <parameters label="[1-6]">
          <par>
            <range>1:6</range>
          </par>
        </parameters>
        <eval>$1</eval>
        <data>P12R</data>
      </command>
      <command id="setofs" label="Set offset [1-6] [0-4000]" response="default" type="config">
        <parameters label="[1-6] [0-4000]">
          <par>
            <range>1:6</range>
          </par>
          <par>
            <range>0:4000</range>
          </par>
        </parameters>
        <eval>$1</eval>
        <data>P12S</data>
        <eval>$2</eval>
      </command>
      <command id="act" label="Activate (Servo) All" response="default" type="action">
        <data>1MA 2MA 3MA 4MA 5MA 6MA</data>
      </command>
      <command id="deact" label="Deactivate (Free) All" response="default" type="action">
        <data>1MD 2MD 3MD 4MD 5MD 6MD</data>
      </command>
      <command id="stop" label="Stop All" response="default" type="action">
        <data>1S 2S 3S 4S 5S 6S</data>
      </command>
      <command id="init" label="Initialize [1-6]" response="default" type="action">
        <parameters label="[1-6]">
          <par>
            <range>1:6</range>
          </par>
        </parameters>
        <eval>$1</eval>
        <data>0</data>
      </command>
      <command id="fw" label="Move forward (8000/hole)" response="default" type="action">
        <parameters label="[1-6] [0-19200]">
          <par>
            <range>1:6</range>
          </par>
          <par>
            <range>0:19200</range>
          </par>
        </parameters>
        <eval>$1</eval>
        <data>+</data>
        <eval>$2</eval>
      </command>
      <command id="bk" label="Move backward (8000/hole)" response="default" type="action">
        <parameters label="[1-6] [0-19200]">
          <par>
            <range>1:6</range>
          </par>
          <par>
            <range>0:19200</range>
          </par>
        </parameters>
        <eval>$1</eval>
        <data>-</data>
        <eval>$2</eval>
      </command>
      <command id="abs" label="Move absolute pos [19200-28400] (8000/hole)" response="default" type="action">
        <parameters label="[1-6] [0-19200]">
          <par>
            <range>1:6</range>
          </par>
          <par>
            <range>19200:28400</range>
          </par>
        </parameters>
        <eval>$1</eval>
        <data>A</data>
        <eval>$2</eval>
      </command>
    </cmdselect>
    <cmdframe>
      <data encode="chr" label="Prefix">2</data>
      <selected />
      <data encode="chr" label="Suffix">3</data>
      <data encode="chr">13</data>
      <data encode="chr">10</data>
    </cmdframe>
    <rspselect>
      <response id="getstat">
        <field assign="stat"></field>
      </response>
      <response id="chkrun">
        <array assign="run">
          <index>$1-1</index>
        </array>
      </response>
      <response id="chkems">
        <array assign="ems">
          <index>$1-1</index>
        </array>
      </response>
      <response id="chkpse">
        <array assign="pse">
          <index>$1-1</index>
        </array>
      </response>
      <response id="getp">
        <array assign="p">
          <index>$1-1</index>
        </array>
      </response>
      <response id="getspd">
        <array assign="spd">
          <index>$1-1</index>
        </array>
      </response>
      <response id="getofs">
        <array assign="ofs">
          <index>$1-1</index>
        </array>
      </response>
      <response id="default" />
    </rspselect>
    <rspframe terminator="\003\r\n">
      <field decode="chr" label="Prefix" length="1">
        <verify>2</verify>
      </field>
      <field decode="chr" label="ACK" length="1">
        <verify>6</verify>
      </field>
      <selected />
    </rspframe>
  </device>
</ddb>