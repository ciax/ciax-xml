<?xml version="1.0" encoding="iso-8859-1"?>
<odb xsi:schemaLocation="http://ciax.sum.naoj.org/ciax-xml/schema/odb.xsd" xmlns="http://ciax.sum.naoj.org/ciax-xml/odb" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
  <object id="cri" label="IR Compressor Room Reserve">
    <comm>
      <device>bbe</device>
      <client>socat - tcp:ltc-i:4003</client>
      <server>socat - udp-l:25107,reuseaddr,fork</server>
    </comm>
    <selection>
      <session id="upd" label="Update Status">
        <statement>
          <text>getstat</text>
        </statement>
      </session>
      <session id="x0on" label="X0 ON">
        <statement>
          <text>getstat</text>
        </statement>
        <statement>
          <eval>${field:stat} | 0x01</eval>
          <text>output</text>
        </statement>
        <statement>
          <text>getstat</text>
        </statement>
      </session>
      <session id="x0off" label="X0 OFF">
        <statement>
          <text>getstat</text>
        </statement>
        <statement>
          <text>output</text>
          <eval>${field:stat} &amp; 0xfffe</eval>
        </statement>
        <statement>
          <text>getstat</text>
        </statement>
      </session>
      <session id="x1on" label="X1 ON">
        <statement>
          <text>getstat</text>
        </statement>
        <statement>
          <text>output</text>
          <eval>${field:stat} | 0x10</eval>
        </statement>
        <statement>
          <text>getstat</text>
        </statement>
      </session>
      <session id="x1off" label="X1 OFF">
        <statement>
          <text>getstat</text>
        </statement>
        <statement>
          <text>output</text>
          <eval>${field:stat} &amp; 0xffef</eval>
        </statement>
        <statement>
          <text>getstat</text>
        </statement>
      </session>
      <session id="x2on" label="X2 ON">
        <statement>
          <text>getstat</text>
        </statement>
        <statement>
          <text>output</text>
          <eval>${field:stat} | 0x100</eval>
        </statement>
        <statement>
          <text>getstat</text>
        </statement>
      </session>
      <session id="x2off" label="X2 OFF">
        <statement>
          <text>getstat</text>
        </statement>
        <statement>
          <text>output</text>
          <eval>${field:stat} &amp; 0xfeff</eval>
        </statement>
        <statement>
          <text>getstat</text>
        </statement>
      </session>
      <session id="x3on" label="X3 ON">
        <statement>
          <text>getstat</text>
        </statement>
        <statement>
          <text>output</text>
          <eval>${field:stat} | 0x1000</eval>
        </statement>
        <statement>
          <text>getstat</text>
        </statement>
      </session>
      <session id="x3off" label="X3 OFF">
        <statement>
          <text>getstat</text>
        </statement>
        <statement>
          <text>output</text>
          <eval>${field:stat} &amp; 0xefff</eval>
        </statement>
        <statement>
          <text>getstat</text>
        </statement>
      </session>
    </selection>
    <status>
      <group label="">
        <var id="x0:sw" label="X0 SWITCH" symbol="off-warn">
          <value format="%s">
            <binary bit="0">stat</binary>
          </value>
        </var>
        <var id="x0:dr" label="X0 DRIVE" symbol="off-warn">
          <value format="%s">
            <binary bit="1">stat</binary>
          </value>
        </var>
      </group>
      <group label="">
        <var id="x0:tm" label="X0 TEMP ALARM" symbol="alarm">
          <value format="%s">
            <binary bit="2">stat</binary>
          </value>
        </var>
        <var id="x0:pr" label="X0 PRESSURE ALARM" symbol="alarm">
          <value format="%s">
            <binary bit="3">stat</binary>
          </value>
        </var>
      </group>
      <group label="">
        <var id="x1:sw" label="X1 SWITCH" symbol="off-warn">
          <value format="%s">
            <binary bit="4">stat</binary>
          </value>
        </var>
        <var id="x1:dr" label="X1 DRIVE" symbol="off-warn">
          <value format="%s">
            <binary bit="5">stat</binary>
          </value>
        </var>
      </group>
      <group label="">
        <var id="x1:tm" label="X1 TEMP ALARM" symbol="alarm">
          <value format="%s">
            <binary bit="6">stat</binary>
          </value>
        </var>
        <var id="x1:pr" label="X1 PRESSURE ALARM" symbol="alarm">
          <value format="%s">
            <binary bit="7">stat</binary>
          </value>
        </var>
      </group>
      <group label="">
        <var id="x2:sw" label="X2 SWITCH" symbol="off-warn">
          <value format="%s">
            <binary bit="8">stat</binary>
          </value>
        </var>
        <var id="x2:dr" label="X2 DRIVE" symbol="off-warn">
          <value format="%s">
            <binary bit="9">stat</binary>
          </value>
        </var>
      </group>
      <group label="">
        <var id="x2:tm" label="X2 TEMP ALARM" symbol="alarm">
          <value format="%s">
            <binary bit="10">stat</binary>
          </value>
        </var>
        <var id="x2:pr" label="X2 PRESSURE ALARM" symbol="alarm">
          <value format="%s">
            <binary bit="11">stat</binary>
          </value>
        </var>
      </group>
      <group label="">
        <var id="x3:sw" label="X3 SWITCH" symbol="off-warn">
          <value format="%s">
            <binary bit="12">stat</binary>
          </value>
        </var>
        <var id="x3:dr" label="X3 DRIVE" symbol="off-warn">
          <value format="%s">
            <binary bit="13">stat</binary>
          </value>
        </var>
      </group>
      <group label="">
        <var id="x3:tm" label="X3 TEMP ALARM" symbol="alarm">
          <value format="%s">
            <binary bit="14">stat</binary>
          </value>
        </var>
        <var id="x3:pr" label="X3 PRESSURE ALARM" symbol="alarm">
          <value format="%s">
            <binary bit="15">stat</binary>
          </value>
        </var>
      </group>
    </status>
  </object>
</odb>