<?xml version='1.0' encoding='ISO-8859-1'?>
<cdb xsi:schemaLocation='http://ciax.sum.naoj.org/ciax-xml/cdb.xsd' xmlns='http://ciax.sum.naoj.org/ciax-xml' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance'>
  <class id='mma'>
    <session id='set0'>
      <label>Set 0 Counter</label>
      <commands>
        <command id='set0'/>
      </commands>
      <interlock>
        <sufficient field='p' value='0'/>
        <required field='in4' value='1'/>
      </interlock>
    </session>
    <session id='mres'>
      <label>Motor Reset</label>
      <commands>
        <command id='reset'/>
        <command id='e1d'/>
        <command id='e2d'/>
        <command id='hl1'/>
      </commands>
      <interlock>
        <required field='in4' value='1'/>
      </interlock>
    </session>
    <session id='ini'>
      <label>Initialize Position</label>
      <commands>
        <command abort='stop' id='jn' timeout='95'>
          <update>bs</update>
          <update>p</update>
          <update>in5</update>
          <update>in3</update>
          <until field='bs' value='0'/>
        </command>
      </commands>
      <interlock>
        <sufficient field='in4' value='1'/>
      </interlock>
    </session>
    <session id='gf'>
      <label>Go to Focal Position</label>
      <commands>
        <command abort='stop' id='ma' timeout='80'>
          <argv>12.8</argv>
          <update>bs</update>
          <update>p</update>
          <update>in5</update>
          <update>in3</update>
          <until field='bs' value='0'/>
        </command>
      </commands>
      <interlock>
        <sufficient field='in1' value='1'/>
      </interlock>
    </session>
    <session id='gr'>
      <label>Go to Rotate Position</label>
      <commands>
        <command abort='stop' id='ma' timeout='60'>
          <argv>123</argv>
          <update>bs</update>
          <update>p</update>
          <update>in5</update>
          <update>in3</update>
          <until field='bs' value='0'/>
        </command>
      </commands>
      <interlock>
        <sufficient field='in2' value='1'/>
      </interlock>
    </session>
    <session id='gw'>
      <label>Go to Waiting Position</label>
      <commands>
        <command abort='stop' id='ma' timeout='60'>
          <argv>185</argv>
          <update>bs</update>
          <update>p</update>
          <update>in5</update>
          <until field='bs' value='0'/>
        </command>
      </commands>
      <interlock>
        <sufficient field='p' value='185'/>
      </interlock>
    </session>
    <session id='gs'>
      <label>Go to Stock Position</label>
      <commands>
        <command abort='stop' id='jp' timeout='95'>
          <update>bs</update>
          <update>p</update>
          <update>in5</update>
          <until field='bs' value='0'/>
        </command>
      </commands>
      <interlock>
        <sufficient field='in3' value='1'/>
      </interlock>
    </session>
    <session id='setstk'>
      <label>Inisialize at Stock</label>
      <commands>
        <command id='setp'>
          <argv>200.44</argv>
        </command>
      </commands>
      <interlock>
        <sufficient field='p' value='200.44'/>
        <required field='in3' value='1'/>
      </interlock>
    </session>
  </class>
</cdb>
