<?xml version="1.0" encoding="iso-8859-1"?>
<odb xsi:schemaLocation="http://ciax.sum.naoj.org/ciax-xml/schema/odb.xsd" xmlns="http://ciax.sum.naoj.org/ciax-xml/odb" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
  <object id="mma" label="MOIRCS Arm">
    <comm>
      <device>slo</device>
      <client>socat - tcp:celaeno:4003</client>
      <server>socat - udp-l:24103,reuseaddr,fork</server>
    </comm>
    <selection>
      <session id="upd" label="Update Status">
        <statement>
          <text>bs</text>
        </statement>
        <statement>
          <text>p</text>
        </statement>
        <statement>
          <text>err</text>
        </statement>
        <repeat from="1" to="5">
          <statement>
            <text>in $_</text>
          </statement>
        </repeat>
      </session>
      <session id="reset" label="Reset">
        <statement>
          <text>reset</text>
        </statement>
      </session>
      <session id="defcon" label="Default Config">
        <statement>
          <text>hl 0</text>
        </statement>
        <statement>
          <text>e1 0</text>
        </statement>
        <statement>
          <text>e2 0</text>
        </statement>
      </session>
      <session id="set0" label="Set 0 Pulses">
        <statement>
          <text>set0</text>
        </statement>
      </session>
    </selection>
    <status>
      <group>
        <var id="bs" label="Moter Moving" symbol="warn">
          <value format="%s">
            <string>bs</string>
          </value>
        </var>
        <var id="con" label="Contact Sensor" symbol="normal">
          <value format="%s">
            <string>in5</string>
          </value>
        </var>
        <var id="err" label="Error Code" symbol="err">
          <value format="%d">
            <int>err</int>
          </value>
        </var>
      </group>
      <group>
        <var id="pos" label="Arm Position" symbol="pos">
          <value format="%s%s%s%s">
            <string>in1</string>
            <string>in2</string>
            <string>in3</string>
            <string>in4</string>
          </value>
        </var>
        <var id="abs" label="ABS position" symbol="pulse">
          <value format="%f">
            <float>p</float>
          </value>
        </var>
      </group>
    </status>
    <symbols>
      <symbol id="err" type="ENUM">
        <enum hl="hide" msg="No Error">
          <regexp>0</regexp>
        </enum>
        <enum hl="alarm" msg="Could not burn flash successfully">
          <regexp>1</regexp>
        </enum>
        <enum hl="alarm" msg="Could not download file">
          <regexp>2</regexp>
        </enum>
        <enum hl="alarm" msg="Not enough memory to execute user program">
          <regexp>3</regexp>
        </enum>
        <enum hl="alarm" msg="Attempt to access a non-existent array element">
          <regexp>4</regexp>
        </enum>
        <enum hl="alarm" msg="Unknown Error">
          <regexp />
        </enum>
      </symbol>
      <symbol id="pos" type="ENUM">
        <enum hl="normal" msg="INIT">
          <regexp>0001</regexp>
        </enum>
        <enum hl="normal" msg="STOCK">
          <regexp>0010</regexp>
        </enum>
        <enum hl="normal" msg="FOCUS">
          <regexp>0100</regexp>
        </enum>
        <enum hl="normal" msg="ROT">
          <regexp>1000</regexp>
        </enum>
        <enum hl="alarm" msg="N/A">
          <regexp />
        </enum>
      </symbol>
      <symbol id="pulse" type="FLOAT">
        <enum hl="normal" msg="INIT">
          <range>0:0.5</range>
        </enum>
        <enum hl="normal" msg="FOCUS">
          <range>12.3:13.2</range>
        </enum>
        <enum hl="normal" msg="ROT">
          <range>122.5:123.5</range>
        </enum>
        <enum hl="normal" msg="WAIT">
          <range>184.5:185.5</range>
        </enum>
        <enum hl="normal" msg="STOCK">
          <range>200:201</range>
        </enum>
      </symbol>
    </symbols>
  </object>
</odb>