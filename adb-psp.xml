<?xml version="1.0" encoding="utf-8"?>
<adb xmlns="http://ciax.sum.naoj.org/ciax-xml/adb">
  <app frm_type="psp" id="psp" label="MOIRCS Ext Heater">
    <commands xmlns="http://ciax.sum.naoj.org/ciax-xml/adbc">
      <command id="upd" label="Update Status">
        <frmcmd name="getstat" />
      </command>
      <command id="setlmt" label="Set Limit 20V/5A/100W">
        <frmcmd name="setvl">
          <argv>20</argv>
        </frmcmd>
        <frmcmd name="setal">
          <argv>5</argv>
        </frmcmd>
        <frmcmd name="setpl">
          <argv>100</argv>
        </frmcmd>
        <frmcmd name="getstat" />
      </command>
      <command id="setv" label="Set Voltage 0-50[V]">
        <frmcmd name="setv">
          <argv valid="0:50">$1</argv>
        </frmcmd>
        <frmcmd name="getstat" />
      </command>
      <command id="setp" label="Set Power 0-100[W]">
        <frmcmd name="setv">
          <argv format="%5.2f" valid="0:100">sqrt($1*26)</argv>
        </frmcmd>
        <frmcmd name="getstat" />
      </command>
    </commands>
    <status xmlns="http://ciax.sum.naoj.org/ciax-xml/adbs">
      <row label="Group">
        <value id="vol" label="OUTPUT (V)">
          <float ref="v" format="%3.2f" />
        </value>
        <value id="amp" label="OUTPUT (A)">
          <float ref="a" format="%3.2f" />
        </value>
        <value id="wat" label="OUTPUT (W)">
          <float ref="w" format="%3.2f" />
        </value>
      </row>
      <row label="Group">
        <value id="vl" label="Limit (V)">
          <float ref="u" format="%3.2f" />
        </value>
        <value id="il" label="Limit (A)">
          <float ref="i" format="%3.2f" />
        </value>
        <value id="pl" label="Limit (W)">
          <float ref="p" format="%3.2f" />
        </value>
      </row>
      <row label="Group">
        <value id="sw" label="OUTPUT ON/OFF" symbol="warn">
          <string ref="f1" />
        </value>
        <value id="tmp" label="OverHeat" symbol="alarm">
          <string ref="f2" />
        </value>
        <value id="kn1" label="Wheel Knov Fine" symbol="normal">
          <string ref="f3" />
        </value>
        <value id="kn2" label="Wheel Knov Unlock" symbol="normal">
          <string ref="f4" />
        </value>
      </row>
      <row label="Group">
        <value id="rem" label="REMOTE" symbol="normal">
          <string ref="f5" />
        </value>
        <value id="loc" label="Local Lock" symbol="normal">
          <string ref="f6" />
        </value>
      </row>
    </status>
  </app>
</adb>
