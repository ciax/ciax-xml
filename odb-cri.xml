<?xml version="1.0" encoding="iso-8859-1"?>
<odb xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="http://ciax.sum.naoj.org/ciax-xml" xsi:schemaLocation="http://ciax.sum.naoj.org/ciax-xml/schema/odb.xsd">
  <object id="cri" label="IR Compressor Room Reserve" device="bbe" client="nc ltc-i 4003" server="socat - udp-l:25107,reuseaddr,fork">
    <selection>
      <session id="upd" label="Update Status">
        <command text="getstat"></command>
      </session>
      <session id="x0on" label="X0 ON">
        <command text="getstat"></command>
        <command text="output">
          <par type="formula">$stat | 0x01</par>
        </command>
        <command text="getstat"></command>
      </session>
      <session id="x0off" label="X0 OFF">
        <command text="getstat"></command>
        <command text="output">
          <par type="formula">$stat &amp; 0xfffe</par>
        </command>
        <command text="getstat"></command>
      </session>
      <session id="x1on" label="X1 ON">
        <command text="getstat"></command>
        <command text="output">
          <par type="formula">$stat | 0x10</par>
        </command>
        <command text="getstat"></command>
      </session>
      <session id="x1off" label="X1 OFF">
        <command text="getstat"></command>
        <command text="output">
          <par type="formula">$stat &amp; 0xffef</par>
        </command>
        <command text="getstat"></command>
      </session>
      <session id="x2on" label="X2 ON">
        <command text="getstat"></command>
        <command text="output">
          <par type="formula">$stat | 0x100</par>
        </command>
        <command text="getstat"></command>
      </session>
      <session id="x2off" label="X2 OFF">
        <command text="getstat"></command>
        <command text="output">
          <par type="formula">$stat &amp; 0xfeff</par>
        </command>
        <command text="getstat"></command>
      </session>
      <session id="x3on" label="X3 ON">
        <command text="getstat"></command>
        <command text="output">
          <par type="formula">$stat | 0x1000</par>
        </command>
        <command text="getstat"></command>
      </session>
      <session id="x3off" label="X3 OFF">
        <command text="getstat"></command>
        <command text="output">
          <par type="formula">$stat &amp; 0xefff</par>
        </command>
        <command text="getstat"></command>
      </session>
    </selection>
    <status>
      <var id="x0:sw" label="X0 SWITCH" symbol="switch">
        <binary ref="stat" bit="0" />
      </var>
      <var id="x0:dr" label="X0 DRIVE" symbol="switch">
        <binary ref="stat" bit="1" />
      </var>
      <var id="x0:tm" label="X0 TEMP" symbol="alarm">
        <binary ref="stat" bit="2" />
      </var>
      <var id="x0:pr" label="X0 PRESSURE" symbol="alarm">
        <binary ref="stat" bit="3" />
      </var>
      <var id="x1:sw" label="X1 SWITCH" symbol="switch">
        <binary ref="stat" bit="4" />
      </var>
      <var id="x1:dr" label="X1 DRIVE" symbol="switch">
        <binary ref="stat" bit="5" />
      </var>
      <var id="x1:tm" label="X1 TEMP" symbol="alarm">
        <binary ref="stat" bit="6" />
      </var>
      <var id="x1:pr" label="X1 PRESSURE" symbol="alarm">
        <binary ref="stat" bit="7" />
      </var>
      <var id="x2:sw" label="X2 SWITCH" symbol="switch">
        <binary ref="stat" bit="8" />
      </var>
      <var id="x2:dr" label="X2 DRIVE" symbol="switch">
        <binary ref="stat" bit="9" />
      </var>
      <var id="x2:tm" label="X2 TEMP" symbol="alarm">
        <binary ref="stat" bit="10" />
      </var>
      <var id="x2:pr" label="X2 PRESSURE" symbol="alarm">
        <binary ref="stat" bit="11" />
      </var>
      <var id="x3:sw" label="X3 SWITCH" symbol="switch">
        <binary ref="stat" bit="12" />
      </var>
      <var id="x3:dr" label="X3 DRIVE" symbol="switch">
        <binary ref="stat" bit="13" />
      </var>
      <var id="x3:tm" label="X3 TEMP" symbol="alarm">
        <binary ref="stat" bit="14" />
      </var>
      <var id="x3:pr" label="X3 PRESSURE" symbol="alarm">
        <binary ref="stat" bit="15" />
      </var>
    </status>
    <symbols>
      <symbol id="switch" type="ENUM">
        <case hl="warn" msg="OFF">0</case>
        <case msg="ON" hl="normal">1</case>
      </symbol>
      <symbol id="alarm" type="ENUM">
        <case hl="hide" msg="OK">0</case>
        <case msg="ALARM" hl="alarm">1</case>
      </symbol>
    </symbols>
  </object>
</odb>
