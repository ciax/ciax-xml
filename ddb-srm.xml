<?xml version="1.0" encoding="iso-8859-1"?>
<ddb xsi:schemaLocation="http://ciax.sum.naoj.org/ciax-xml/schema/ddb.xsd" xmlns="http://ciax.sum.naoj.org/ciax-xml/ddb" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
  <device id="srm" label="OMRON SRM1" wait="0.3">
    <serial databit="7" flowctl="NONE" parity="EVEN" speed="9600" stopbit="1" />
    <cmdselect>
      <command id="getmodel" label="Get Model Code" response="getmodel" type="stat">
        <data label="Header Code">MM</data>
      </command>
      <command id="getstat" label="Get Status" response="getstat" type="stat">
        <data label="Header Code">RR</data>
        <data label="Start Channel">0000</data>
        <data label="length">0001</data>
      </command>
      <command id="fset" label="Multiple Forced Set [D*16]" response="fset" type="action">
        <data label="Header Code">FK</data>
        <data label="Operand">CIO </data>
        <data label="Channel">0000</data>
        <par format="%016d" validate="regexp">[45][045]+</par>
      </command>
    </cmdselect>
    <cmdccrange method="bcc">
      <data label="Prefix">@</data>
      <data label="Device No.">00</data>
      <selected />
    </cmdccrange>
    <cmdframe>
      <ccrange></ccrange>
      <cc format="%02X" />
      <data label="Suffix">*</data>
      <data label="Delimiter" encode="chr">0xd</data>
    </cmdframe>
    <rspselect>
      <response id="getmodel">
        <field label="Command Code">
          <length>4</length>
          <verify>00MM</verify>
        </field>
        <field label="Response Code">
          <length>2</length>
          <verify>00</verify>
        </field>
        <field label="Model Number">
          <length>2</length>
          <assign>model</assign>
        </field>
      </response>
      <response id="getstat">
        <field label="Command Code">
          <length>4</length>
          <verify>00RR</verify>
        </field>
        <field label="Response Code">
          <length>2</length>
          <verify>00</verify>
        </field>
        <!--Big endian-->
        <field label="CH1 bit12-15">
          <length>1</length>
          <assign>c1d3</assign>
        </field>
        <field label="CH1 bit8-11">
          <length>1</length>
          <assign>c1d2</assign>
        </field>
        <field label="CH1 bit4-7">
          <length>1</length>
          <assign>c1d1</assign>
        </field>
        <field label="CH1 bit0-3">
          <length>1</length>
          <assign>c1d0</assign>
        </field>
      </response>
      <response id="fset">
        <field label="Command Code">
          <length>4</length>
          <verify>00FK</verify>
        </field>
        <field label="Exit Code">
          <length>2</length>
          <verify>00</verify>
        </field>
      </response>
    </rspselect>
    <rspccrange method="bcc">
      <field label="Prefix">
        <length>1</length>
        <verify>@</verify>
      </field>
      <selected />
    </rspccrange>
    <rspframe>
      <ccrange></ccrange>
      <field label="BCC" decode="hexstr">
        <length>2</length>
        <assign>cc</assign>
      </field>
      <field label="Terminater">
        <length>1</length>
        <verify>*</verify>
      </field>
    </rspframe>
  </device>
</ddb>
