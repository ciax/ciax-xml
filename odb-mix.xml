<?xml version="1.0" encoding="iso-8859-1"?>
<odb xsi:schemaLocation="http://ciax.sum.naoj.org/ciax-xml/schema/odb.xsd" xmlns="http://ciax.sum.naoj.org/ciax-xml/odb" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
  <object id="mix" label="MOIRCS Turret">
    <comm>
      <device>ixe</device>
      <client>socat - tcp:celaeno:4007</client>
      <server>socat - udp-l:24107,reuseaddr,fork</server>
    </comm>
    <selection>
      <session id="upd" label="Update Status">
        <statement>
          <text>getstat</text>
        </statement>
        <repeat from="0" to="5">
          <statement>
            <text>chkr $_</text>
          </statement>
          <statement>
            <text>getp $_</text>
          </statement>
        </repeat>
      </session>
      <session id="resume" label="Resume Pulses">
        <repeat from="0" to="5">
          <statement>
            <text>setp</text>
            <text>$_</text>
            <text>${field:p:$_}</text>
          </statement>
        </repeat>
      </session>
      <session id="set0" label="Set 0 Pulses">
        <repeat from="1" to="6">
          <statement>
            <text>setp $_ 0</text>
          </statement>
        </repeat>
      </session>
    </selection>
    <status>
      <group label="">
        <var id="rdy" label="Comm Ready" symbol="off-warn">
          <value format="%s">
            <binary bit="0">stat</binary>
          </value>
        </var>
        <var id="srq" label="SRQ" symbol="off-warn">
          <value format="%s">
            <binary bit="1">stat</binary>
          </value>
        </var>
        <var id="pme" label="Program Error" symbol="alarm">
          <value format="%s">
            <binary bit="3">stat</binary>
          </value>
        </var>
        <var id="pse" label="Power Stage Error" symbol="alarm">
          <value format="%s">
            <binary bit="4">stat</binary>
          </value>
        </var>
        <var id="oes" label="ONE EM Stop" symbol="alarm">
          <value format="%s">
            <binary bit="5">stat</binary>
          </value>
        </var>
        <var id="ees" label="EXT EM Stop" symbol="alarm">
          <value format="%s">
            <binary bit="6">stat</binary>
          </value>
        </var>
      </group>
      <group label="">
        <var id="trm" label="Terminal Mode" symbol="off-warn">
          <value format="%s">
            <binary bit="2">stat</binary>
          </value>
        </var>
        <var id="cmd" label="Computer Mode" symbol="off-warn">
          <value format="%s">
            <binary bit="7">stat</binary>
          </value>
        </var>
      </group>
      <repeat from="0" to="5">
        <group label="">
          <var id="r$_" label="Running $_" symbol="normal">
            <value format="%s">
              <string>r:$_</string>
            </value>
          </var>
          <var id="p$_" label="Pulse $_">
            <value format="%d">
              <int>p:$_</int>
            </value>
          </var>
        </group>
      </repeat>
    </status>
  </object>
</odb>