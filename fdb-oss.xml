<?xml version="1.0" encoding="utf-8"?>
<fdb xmlns="http://ciax.sum.naoj.org/ciax-xml/fdb">
  <frame id="oss" label="OSS Command line" version="1">
    <cmdframe xmlns="http://ciax.sum.naoj.org/ciax-xml/fdbc">
      <body/>
      <char length="1" label="Suffix">0xa</char>
    </cmdframe>
    <command xmlns="http://ciax.sum.naoj.org/ciax-xml/fdbc">
      <item id="getstat" label="Get all status" response="getstat" type="stat">
        <string label="Status Command">ossprt</string>
        <string label="InR Select(NsOpt/NsIR/Cas)"> TSCV.RotatorType</string>
        <string label="Stow pin Status"> CXWS.TSCV.STOW_1</string>
        <string label="Shutter Status"> CXWS.TSCV.SHUTTER</string>
        <string label="AZ/EL Drive Status"> CXWS.TSCV.TELDRIVE</string>
        <string label="EL Angle(deg)"> CXWS.TSCS.EL</string>
        <string label="CIAX-MLP3 Comm Error"> CXWS.TSCV.CIAX_MLP3_FAULT</string>
        <string label="InR Drive ON/OFF"> TSCV.InsRotRotation</string>
        <string label="BOLT Status"> CXWS.TSCV.0_SENSOR</string>
      </item>
      <item id="iststat" label="Get Instrument ID" response="iststat" type="stat">
        <string label="Status Command">ossprt</string>
        <string label="CAS Instrument"> CXWS.TSCV.OBE_INR</string>
      </item>
      <item id="jakstat" label="Jack Bolt Status" response="jakstat" type="stat">
        <string label="Status Command">ossprt</string>
        <string label="Bolt Each Status"> CXWS.TSCV.POWER_V1</string>
      </item>
      <item id="jaklen" label="Jack Bolt Status" response="jaklen" type="stat">
        <string label="Status Command">ossprt</string>
        <string label="Bolt Each Position"> CXWS.TSCV.POWER_V2</string>
      </item>
      <item id="zlen" label="Jack Bolt Status" response="zlen" type="stat">
        <string label="Status Command">ossprt</string>
        <string label="Zsensor Each Position"> CXWS.TSCL.Z_SENSOR</string>
      </item>
      <item id="inrstat" label="Cas InR Status" response="inrstat" type="stat">
        <string label="Status Command">ossprt</string>
        <string label="InR Angle(deg)"> CXWS.TSCS.INSROT</string>
      </item>
      <item id="logstat" label="Login Status" response="logstat" type="stat">
        <string label="Status Command">ossprt</string>
        <string label="LOGIN 0"> TSCV.TSC.LOGIN0</string>
        <string label="LOGIN 1"> TSCV.TSC.LOGIN1</string>
        <string label="LOGIN 2"> TSCV.TSC.LOGIN2</string>
        <string label="LOGIN 3"> TSCV.TSC.LOGIN3</string>
      </item>
      <item id="getexit" label="Exit Code" response="exit" type="stat">
        <string>exe</string>
      </item>
      <item id="getpid" label="Running?" response="pid" type="stat">
        <string>exe -b</string>
      </item>
      <item id="login" label="TSC Login" response="exit">
        <string>osscmd</string>
        <string> 1A1901ciax%%%%%%%%%%%%%%%%</string>
        <string> CIAX%%%%%%%%%%%%</string>
        <string> dummyunit</string>
        <string> dummyMenu</string>
        <string> dummyMessage</string>
      </item>
      <item id="logout" label="TSC Login" response="exit">
        <string>osscmd 1A1902</string>
      </item>
      <item id="init" label="Status Delivery Request" response="exit">
        <string>osscmd 1A1011</string>
      </item>
      <item id="tsconly" label="TSC Only Mode(CIAX Mode)" response="exit">
        <string>osscmd 1A1008TSCONLY</string>
      </item>
      <item id="tscpri" label="TSC Primaly Mode(OBS Mode)" response="exit">
        <string>osscmd 1A1008TSCPRI%</string>
      </item>
      <item id="ron" label="InR Drive ON" response="exit">
        <string>osscmd 904013</string>
      </item>
      <item id="roff" label="InR Drive OFF" response="exit">
        <string>osscmd 904014</string>
      </item>
      <item id="jon" label="Jack Drive ON" response="exit">
        <string>osscmd 132001ON%</string>
      </item>
      <item id="joff" label="Jack Drive OFF" response="exit">
        <string>osscmd 132001OFF</string>
      </item>
      <item id="jres" label="Jack Drive Reset" response="exit">
        <string>osscmd 132008</string>
      </item>
      <item id="rhook" label="InR Hook(0deg)" response="exit" type="action">
        <string>osscmd -b 132004</string>
      </item>
      <item id="runhk" label="InR UnHook(-4deg)" response="exit" type="action">
        <string>osscmd -b 132005</string>
      </item>
      <item id="rstop" label="InR Stop" response="exit" type="action">
        <string>osscmd 104011</string>
      </item>
      <item id="ajup" label="All EJB Up" response="exit" type="action">
        <string>osscmd -b 932001</string>
      </item>
      <item id="ajdw" label="All EJB Down" response="exit" type="action">
        <string>osscmd -b 932002</string>
      </item>
      <item id="ajstop" label="All EJB Stop" response="exit" type="action">
        <string>osscmd 932003</string>
      </item>
      <item id="jup" label="EJB Up [#]" response="exit" type="action">
        <par_num>1:16</par_num>
        <string>osscmd -b 9320</string>
        <string format="%02d">$1*3+1</string>
      </item>
      <item id="jdw" label="EJB Down [#]" response="exit" type="action">
        <par_num>1:16</par_num>
        <string>osscmd -b 9320</string>
        <string format="%02d">$1*3+2</string>
      </item>
      <item id="jstop" label="EJB Stop [num]" response="exit" type="action">
        <par_num>1:16</par_num>
        <string>osscmd 9320</string>
        <string format="%02d">$1*3+3</string>
      </item>
      <item id="setinst" label="Set Instrument ID [0-12]" response="exit" type="config">
        <par_num>1:12</par_num>
        <string>osscmd 13200700</string>
        <string format="%02d">$1</string>
      </item>
    </command>
    <rspframe xmlns="http://ciax.sum.naoj.org/ciax-xml/fdbr" terminator="\n">
      <body/>
    </rspframe>
    <response xmlns="http://ciax.sum.naoj.org/ciax-xml/fdbr">
      <item id="getstat">
        <!--TSCMON-->
        <field assign="rsel" label="InR Select(NsOpt/NsIR/Cas)" />
        <!--MCUMON-->
        <field assign="stow_1" decode="hexstr" label="Stow pin Status" />
        <field assign="shutter" decode="hexstr" label="Shutter Status" />
        <field assign="teldrive" decode="hexstr" label="AZ/EL Drive Status" />
        <field assign="el" label="EL Angle(deg)" />
        <field assign="mlp3" label="CIAX-MLP3 Comm Error" />
        <field assign="rpw" label="InR Drive ON/OFF" />
        <field assign="bstat" decode="hexstr" label="BOLT System Status" />
      </item>
      <item id="iststat">
        <field assign="iid" label="CAS Instrument" />
      </item>
      <item id="jakstat">
        <!--POWER_V1-->
        <field assign="bsa" label="BOLT SUM ALM(B0)" length="2" decode="hexstr"/>
        <field assign="abs" label="ALL BOLT STAT(B0:Anchord,B2:Stop,B4:Ready)" length="2" decode="hexstr"/>
        <!--Order:2,1,4,3..-->
        <array assign="bs" label="EACH BOLT STAT(B0:Anchord,B2:Stop,B3:Ready)" length="1" decode="hexstr">
          <index size="16"/>
        </array>
        <array assign="bl" label="Each Bolt Limit(DrvAlm,UP,DW,UnitAlm)" length="1" decode="hexstr">
          <!--Order:2,1,4,3..-->
          <index size="16"/>
        </array>
        <field assign="mba" label="MLP3-BOLT COMM ALM(18:B0)" length="2" decode="hexstr"/>
        <field assign="loc" label="CS BOLT LOCAL(19:B0)" length="2" decode="hexstr"/>
        <array assign="clm" label="CS BOLT Cullent Limit(20-21)" length="2" decode="hexstr">
          <index size="2" />
        </array>
      </item>
      <item id="jaklen" length="192" padding="0">
        <!--POWER_V2-->
        <array assign="jk" label="Bolt Position" length="12" slice="0:6" decode="decstr">
          <index size="16" />
        </array>
      </item>
      <item id="zlen">
        <!--Z_SENSOR-->
        <array assign="zp" label="Zsensor Position" length="12" slice="0:6">
          <index size="4" />
        </array>
      </item>
      <item id="inrstat">
        <field assign="iang" label="InR Angle(deg)" />
      </item>
      <item id="logstat">
        <field assign="login0" label="LOGIN 0" />
        <field assign="login1" label="LOGIN 1" />
        <field assign="login2" label="LOGIN 2" />
        <field assign="login3" label="LOGIN 3" />
      </item>
      <item id="exit">
        <field assign="exit" label="Exit Code" />
      </item>
      <item id="pid">
        <field assign="pid" label="Background Process ID" />
      </item>
    </response>
  </frame>
</fdb>
