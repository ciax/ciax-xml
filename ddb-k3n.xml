<?xml version='1.0' encoding='ISO-8859-1'?>
<ddb xsi:schemaLocation='http://ciax.sum.naoj.org/ciax-xml/schema/ddb.xsd' xmlns='http://ciax.sum.naoj.org/ciax-xml/ddb' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance'>
  <device id='k3n' label='OMRON K3NR' wait='1'>
    <serial databit='7' flowctl='NONE' parity='EVEN' speed='9600' stopbit='2'/>
    <cmdselect>
      <command id='getstat' label='Get Status' response='getstat' type='stat'>
        <data label='Node No.' text='00' type='text'/>
        <data label='Sub Address' text='00' type='text'/>
        <data label='SID' text='0' type='text'/>
        <data label='MRC' text='01' type='text'/>
        <data label='SRC' text='01' type='text'/>
        <data label='Variable type' text='C0' type='text'/>
        <data label='Start Address' text='0000' type='text'/>
        <data label='Void' text='00' type='text'/>
        <data label='Number of element' text='0001' type='text'/>
      </command>
    </cmdselect>
    <cmdccrange method='bcc'>
      <selected/>
      <data encode='chr' label='Suffix' text='3' type='text'/>
    </cmdccrange>
    <cmdframe>
      <data encode='chr' label='Prefix' text='2' type='text'/>
      <ccrange/>
      <data encode='chr' text='${cc}' type='formula'/>
    </cmdframe>
    <rspselect>
      <response id='getstat'>
        <field label='MRC SRC' length='4' verify='0101'/>
        <field assign='rcode' label='Response Code' length='4'/>
        <field assign='stat' label='Status' length='8'/>
      </response>
    </rspselect>
    <rspccrange method='bcc'>
      <field label='Node' length='4' verify='0000'/>
      <field assign='ecode' label='Exit Code' length='2'/>
      <selected/>
      <field decode='chr' label='Suffix' length='1' verify='3'/>
    </rspccrange>
    <rspframe>
      <field decode='chr' label='Prefix' length='1' verify='2'/>
      <ccrange/>
      <field assign='cc' decode='chr' label='BCC' length='1'/>
    </rspframe>
  </device>
</ddb>
