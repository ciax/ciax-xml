<?xml version="1.0" encoding="utf-8"?>
<adb xmlns="http://ciax.sum.naoj.org/ciax-xml/adb">
  <app frm_id="ken" id="ken" label="Kenwood Power Supply">
    <commands xmlns="http://ciax.sum.naoj.org/ciax-xml/adbc">
      <group id="g0" caption="Device">
        <item id="upd" label="Update Status">
          <frmcmd name="getst0">
            <argv>0</argv>
            <argv>2</argv>
          </frmcmd>
          <frmcmd name="ack"/>
          <frmcmd name="getst0">
            <argv>1</argv>
            <argv>4</argv>
          </frmcmd>
          <frmcmd name="ack"/>
          <frmcmd name="getst0">
            <argv>2</argv>
            <argv>2</argv>
          </frmcmd>
          <frmcmd name="ack"/>
        </item>
        <item id="getconf" label="Get Config Data">
          <repeat from="0" to="2">
            <frmcmd name="getst1">
              <argv>$_</argv>
            </frmcmd>
            <frmcmd name="ack"/>
            <frmcmd name="getst2">
              <argv>$_</argv>
            </frmcmd>
            <frmcmd name="ack"/>
            <frmcmd name="getst3">
              <argv>$_</argv>
            </frmcmd>
            <frmcmd name="ack"/>
          </repeat>
        </item>
      </group>
    </commands>
    <status xmlns="http://ciax.sum.naoj.org/ciax-xml/adbs" symtbl="ken">
      <group id="gsa" caption="UNIT NAME" column="4">
        <repeat_var from="0" to="2" counter="c">
          <integer id="model$c" label="Model $c">
            <field ref="ms3" index="$c"/>
          </integer>
        </repeat_var>
      </group>
      <group id="gu1" caption="Values A" column="3">
        <repeat_var from="0" to="1" counter="c">
          <float id="v0$c" label="Voltage(V) CH$c" format="%5.2f" formula="$#/100">
            <field ref="ms0" index="0:$c*2" />
          </float>
          <float id="i0$c" label="Current(A) CH$c" format="%5.2f" formula="$#/100">
            <field ref="ms0" index="0:$c*2+1" />
          </float>
          <integer id="s0$c" label="Stat CH$c">
            <field ref="st0" index="0:$c"/>
          </integer>
        </repeat_var>
      </group>
      <group id="gu2" caption="Values B" column="3">
        <repeat_var from="0" to="3" counter="c">
          <float id="v1$c" label="Voltage(V) CH$c" format="%5.2f" formula="$#/100">
            <field ref="ms0" index="1:$c*2" />
          </float>
          <float id="i1$c" label="Current(A) CH$c" format="%5.2f" formula="$#/100">
            <field ref="ms0" index="1:$c*2+1" />
          </float>
          <integer id="s1$c" label="Stat CH$c">
            <field ref="st0" index="1:$c"/>
          </integer>
        </repeat_var>
      </group>
      <group id="gu3" caption="Values C" column="3">
        <repeat_var from="0" to="1" counter="c">
          <float id="v2$c" label="Voltage(V) CH$c" format="%5.2f" formula="$#/100">
            <field ref="ms0" index="2:$c*2" />
          </float>
          <float id="i2$c" label="Current(A) CH$c" format="%5.2f" formula="$#/100">
            <field ref="ms0" index="2:$c*2+1" />
          </float>
          <integer id="s2$c" label="Stat CH$c">
            <field ref="st0" index="2:$c"/>
          </integer>
        </repeat_var>
      </group>
    </status>
  </app>
</adb>
