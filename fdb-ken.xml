<?xml version="1.0" encoding="utf-8"?>
<fdb xmlns="http://ciax.sum.naoj.org/ciax-xml/fdb">
  <frame id="ken" label="Kenwood PW-A Series (IF-41RS)" reference="http://ciax.sum.naoj.org/man/kenwood/PWA_m_j.pdf" ccmethod="sum" maxlength="255" version="2" wait="0.3">
    <serial databit="7" flowctl="NONE" parity="EVEN" speed="9600" stopbit="1" />
    <cmdframe xmlns="http://ciax.sum.naoj.org/ciax-xml/fdbc">
      <char length="1" label="ENQ">5</char>
      <ccrange>
        <body/>
        <char length="1" label="ETX">3</char>
      </ccrange>
      <string format="%02X">${cc}</string>
    </cmdframe>
    <commands xmlns="http://ciax.sum.naoj.org/ciax-xml/fdbc">
      <item id="getstat" label="Get status" type="stat" response="getstat">
        <string>PWID</string>
      </item>
      <item id="getst0" label="Get status" type="stat" response="getst0">
        <par_str>A,B,C</par_str>
        <string>$1</string>
        <string>ST0</string>
      </item>
      <item id="getst1" label="Get status" type="stat" response="getst1">
        <par_str>A,B,C</par_str>
        <string>$1</string>
        <string>ST1</string>
      </item>
      <item id="getst2" label="Get status" type="stat" response="getst2">
        <par_str>A,B,C</par_str>
        <string>$1</string>
        <string>ST2</string>
      </item>
      <item id="getst3" label="Get status" type="stat" response="getst3">
        <par_str>A,B,C</par_str>
        <string>$1</string>
        <string>ST3</string>
      </item>
      <item id="getst4" label="Get status" type="stat" response="getst4">
        <par_str>A,B,C</par_str>
        <string>$1</string>
        <string>ST4</string>
      </item>
      <item id="getst5" label="Get status" type="stat" response="getst5">
        <par_str>A,B,C</par_str>
        <string>$1</string>
        <string>ST5</string>
      </item>
      <item id="aon" label="All Output ON" response="default" type="action">
        <string>#SW1</string>
      </item>
      <item id="ack" label="ACK" noaffix="true" response="ack">
        <char length="1" label="ACK">6</char>
        <string>@</string>
      </item>
      <item id="clr" label="ACK" noaffix="true" response="default">
        <char length="1" label="ACK">6</char>
        <string>@</string>
      </item>
      <item id="rcv" label="Rcv Status" response="getstat" />
    </commands>
    <rspframe xmlns="http://ciax.sum.naoj.org/ciax-xml/fdbr"  terminator="\x03">
      <echo/>
      <field length="1" decode="unsigned" label="ACK">6</field>
      <field length="1" label="DST CH"/>
      <field length="1" decode="unsigned" label="ENQ">5</field>
      <ccrange>
        <field label="SRC CH">@</field>
        <body/>
        <field length="1" decode="unsigned" label="ETX">3</field>
      </ccrange>
      <field assign="cc" decode="hexstr" length="2" label="CC"/>
    </rspframe>
    <responses xmlns="http://ciax.sum.naoj.org/ciax-xml/fdbr">
      <response id="ack" noaffix="true">
        <field label="ACK" decode="unsigned" length="1">6</field>
        <field label="Master CH">@</field>
      </response>
      <response id="getstat">
        <field assign="pwid" label="StatusCode" length="35"/>
      </response>
      <response id="getst0" delimiter=",">
        <field label="StatusCode">MS0,</field>
        <array assign="ms0" label="Value">
          <index range="0:5" size="6" />
        </array>
      </response>
      <response id="getst1" delimiter=",">
        <field label="StatusCode">MS1,</field>
        <array assign="ms1" label="Value">
          <index range="0:16" size="17" />
        </array>
      </response>
      <response id="getst2" delimiter=",">
        <field label="StatusCode">MS2,</field>
        <array assign="ms2" label="Value">
          <index range="0:14" size="15" />
        </array>
      </response>
      <response id="getst3">
        <field label="StatusCode">MS3,</field>
        <field assign="ms3" label="StatusCode" length="4"/>
      </response>
      <response id="getst4" delimiter=",">
        <field label="StatusCode">MS4,</field>
        <array assign="ms4" label="Value">
          <index range="0:5" size="6" />
        </array>
      </response>
      <response id="getst5" delimiter=",">
        <field label="StatusCode">MS5,</field>
        <array assign="ms5" label="Value">
          <index range="0:16" size="17" />
        </array>
      </response>
      <response id="default"  noaffix="true"/>
    </responses>
  </frame>
</fdb>
