<?xml version="1.0" encoding="iso-8859-1"?>
<odb xsi:schemaLocation="http://ciax.sum.naoj.org/ciax-xml/schema/odb.xsd" xmlns="http://ciax.sum.naoj.org/ciax-xml/odb" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
  <object client="socat - udp:cart3:5000" device="mel" id="crt" label="Cart PLC" server="socat - udp-l:25101,reuseaddr,fork">
    <selection>
      <session id="upd" label="Regular status update">
        <statement format="getstat"></statement>
        <statement format="chken"></statement>
      </session>
      <session id="start_run" label="Running Start">
        <statement format="start 1"></statement>
      </session>
      <session id="start_jak" label="Jacking Start">
        <statement format="start 0x100"></statement>
      </session>
      <session id="clear_trg" label="Jacking Start">
        <statement format="clear"></statement>
      </session>
      <session id="set_fwd" label="Set Tag to Forward">
        <statement format="set_tag 98"></statement>
      </session>
      <session id="set_run1" label="Run to Tag 1">
        <statement format="set_tag 1"></statement>
      </session>
      <session id="set_jak1" label="Jack UP Level 1">
        <statement format="set_pos 2"></statement>
      </session>
      <session id="pause" label="Pause">
        <statement format="stop 1"></statement>
      </session>
      <session id="emstop" label="Emergency Stop">
        <statement format="stop 2"></statement>
      </session>
      <session id="resume" label="Resume from Pause">
        <statement format="clear"></statement>
      </session>
    </selection>
    <status>
      <group label="">
        <var id="ecode" label="EXIT CODE" symbol="ecode">
          <int field="ecode" format="%04X" />
        </var>
        <var id="rdy" label="READY" symbol="normal">
          <binary bit="0" field="x00" />
        </var>
        <var id="pse" label="PAUSE" symbol="warn">
          <binary bit="1" field="x00" />
        </var>
        <var id="emg" label="ENERGENCY" symbol="alarm">
          <binary bit="2" field="x00" />
        </var>
        <var id="stp" label="STOP" symbol="warn">
          <binary bit="3" field="x00" />
        </var>
      </group>
      <group label="">
        <var id="run" label="RUNNING" symbol="normal">
          <binary bit="4" field="x00" />
        </var>
        <var id="jak" label="JACKING" symbol="normal">
          <binary bit="5" field="x00" />
        </var>
        <var id="con" label="CHARGING" symbol="normal">
          <binary bit="6" field="x00" />
        </var>
        <var id="flt" label="Fault" symbol="alarm">
          <binary bit="7" field="x00" />
        </var>
      </group>
      <group label="">
        <var id="msr" label="Right Motor Servo" symbol="normal">
          <binary bit="8" field="x00" inv="true" />
        </var>
        <var id="msl" label="Left Motor Servo" symbol="normal">
          <binary bit="9" field="x00" inv="true" />
        </var>
      </group>
      <group label="">
        <var id="jd1" label="Jack Motor1 Servo" symbol="normal">
          <binary bit="10" field="x00" inv="true" />
        </var>
        <var id="jd2" label="Jack Motor2 Servo" symbol="normal">
          <binary bit="11" field="x00" inv="true" />
        </var>
      </group>
      <group label="">
        <var id="jd3" label="Jack Motor3 Servo" symbol="normal">
          <binary bit="12" field="x00" inv="true" />
        </var>
        <var id="jd4" label="Jack Motor4 Servo" symbol="normal">
          <binary bit="13" field="x00" inv="true" />
        </var>
      </group>
      <group label="">
        <var id="mdar" label="Rignt Motor D/A" symbol="motor">
          <int field="x07" signed="true" />
        </var>
        <var id="mdal" label="Left Motor D/A" symbol="motor">
          <int field="x08" signed="true" />
        </var>
      </group>
      <group label="">
        <var id="bvl" label="Battery Voltage" symbol="battery">
          <float decimal="2" field="x16" format="%2.2f" />
        </var>
        <var id="ist" label="Instrument" symbol="inst">
          <int field="x17" />
        </var>
      </group>
      <group label="">
        <var id="cpos" label="Current Position">
          <int field="x19" />
        </var>
        <var id="dpos" label="Destination Position">
          <int field="x1a" />
        </var>
      </group>
      <group label="">
        <var id="jpos" label="Jack Position" symbol="jpos">
          <int field="x1b" />
        </var>
      </group>
    </status>
    <symbols>
      <symbol id="ecode" label="ExitCode" type="ENUM">
        <enum hl="hide" msg="OK">
          <regexp>0000</regexp>
        </enum>
        <enum msg="RW Region Error" hl="alarm">
          <regexp>0002</regexp>
        </enum>
        <enum msg="CMD Code Error" hl="alarm">
          <regexp>0050</regexp>
        </enum>
        <enum msg="Devide Num Error" hl="alarm">
          <regexp>0056</regexp>
        </enum>
        <enum msg="Communication Error" hl="alarm">
          <regexp>005B</regexp>
        </enum>
        <enum msg="CPU Watch timeout Error" hl="alarm">
          <regexp>0060</regexp>
        </enum>
        <enum hl="alarm" msg="Unknown"></enum>
      </symbol>
      <symbol id="motor" type="INT">
        <enum hl="alarm" msg="LOW">
          <range>:10</range>
        </enum>
        <enum hl="normal" msg="OK">
          <range>10&lt;:30</range>
        </enum>
        <enum hl="alarm" msg="HIGH">
          <range>30&lt;:</range>
        </enum>
      </symbol>
      <symbol id="battery" type="FLOAT">
        <enum hl="alarm" msg="LOW">
          <range>:20</range>
        </enum>
        <enum hl="warn" msg="LESS">
          <range>20&lt;:22</range>
        </enum>
        <enum hl="normal" msg="OK">
          <range>22&lt;:26</range>
        </enum>
        <enum hl="warn" msg="FULL">
          <range>26&lt;:28</range>
        </enum>
        <enum hl="alarm" msg="HIGH">
          <range>28&lt;:</range>
        </enum>
      </symbol>
      <symbol id="inst" type="ENUM">
        <enum hl="normal" msg="MOIRCS">
          <regexp>2</regexp>
        </enum>
        <enum hl="warn" msg="N/A" />
      </symbol>
      <symbol id="jpos" type="ENUM">
        <enum hl="normal" msg="D">
          <regexp>0</regexp>
        </enum>
        <enum hl="normal" msg="1(L)">
          <regexp>1</regexp>
        </enum>
        <enum hl="normal" msg="2(M)">
          <regexp>2</regexp>
        </enum>
        <enum hl="normal" msg="3(H)">
          <regexp>3</regexp>
        </enum>
        <enum hl="normal" msg="CHG">
          <regexp>4</regexp>
        </enum>
        <enum hl="warn" msg="N/A" />
      </symbol>
    </symbols>
  </object>
</odb>